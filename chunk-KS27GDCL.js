import{A as x,C as h,D as C,G as u,H as I,I as E,N as S,U as H,V as O,W as U,ga as M,ha as y,j as m,k as p,l as g,n as s,p as a,q as i,r as o,s as v,t as _,u as f,x as l,y as d,z as r}from"./chunk-WKEIMEWF.js";function b(e,n){if(e&1&&(i(0,"mat-list-item"),r(1),o()),e&2){let t=n.$implicit;m(),C(" ",t.nome," ",t.cognome," - ",t.email," (",t.ruolo,") ")}}function P(e,n){if(e&1&&(i(0,"mat-list"),s(1,b,2,4,"mat-list-item",6),o()),e&2){let t=l(3);m(),a("ngForOf",t.users)}}function F(e,n){e&1&&(i(0,"p"),r(1,"Nessun utente trovato."),o())}function N(e,n){if(e&1&&(_(0),i(1,"h2"),r(2,"Lista degli Utenti"),o(),s(3,P,2,1,"mat-list",5)(4,F,2,0,"ng-template",null,1,u),f()),e&2){let t=d(5),c=l(2);m(3),a("ngIf",c.users.length>0)("ngIfElse",t)}}function z(e,n){e&1&&(_(0),i(1,"h2"),r(2,"Contenuti riservati agli utenti standard"),o(),i(3,"p"),r(4,"Qui puoi vedere le tue info o accedere a funzioni personalizzate."),o(),f())}function D(e,n){if(e&1&&(i(0,"div",3)(1,"h1"),r(2),o(),i(3,"p"),r(4,"Ruolo: "),i(5,"strong"),r(6),o()(),s(7,N,6,2,"ng-container",4)(8,z,5,0,"ng-container",4),o()),e&2){let t=l();m(2),h("Benvenuto, ",t.user.nome," ",t.user.cognome,"!"),m(4),x(t.user.ruolo),m(),a("ngIf",t.isAdmin),m(),a("ngIf",!t.isAdmin)}}function L(e,n){e&1&&v(0,"mat-spinner")}var A=class e{constructor(n,t){this.authService=n;this.http=t}user=null;isAdmin=!1;users=[];ngOnInit(){this.authService.currentUser$.subscribe(n=>{this.user=n,this.isAdmin=n?.ruolo==="admin",this.isAdmin&&this.loadUsers()})}loadUsers(){this.http.get(`${H.apiUrl}/utenti`).subscribe({next:n=>this.users=n,error:n=>console.error("Errore caricando utenti:",n)})}static \u0275fac=function(t){return new(t||e)(p(O),p(S))};static \u0275cmp=g({type:e,selectors:[["app-home"]],standalone:!1,decls:3,vars:2,consts:[["loading",""],["noUsers",""],["class","home-container",4,"ngIf","ngIfElse"],[1,"home-container"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"]],template:function(t,c){if(t&1&&s(0,D,9,5,"div",2)(1,L,1,0,"ng-template",null,0,u),t&2){let T=d(2);a("ngIf",c.user)("ngIfElse",T)}},dependencies:[I,E,U,M,y],styles:[".home-container[_ngcontent-%COMP%]{padding:2rem}.home-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:.5rem}.home-container[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]{margin-top:1rem;max-width:600px}"]})};export{A as a};
